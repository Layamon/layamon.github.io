---
layout: post
title: 数仓升级
date: 2016-01-03 18:29
categories: jekyll update
---

> 在研二这个找工作之前准备充实自己的一年，起初是满怀激情的接到老师委托的一个项目，关于一个基于Oracle+cognos的数据仓库升级的项目
> 做起来 真的是很磨练人，不仅仅是锻炼自己的技术能力，算是自己主导的第一个项目，和合作人员交流合作，也是一门大学问：
> **导师不知道是放心我去做，还是根本不关心，也可能是太忙了**
> **一起合作的同学似乎也不关心项目能否完成，我自己一个人在做，老师还以为我们一起在合作呢**
> **项目的完成 要有良好的项目分工，以及各个参加人员的积极完成，否则内耗太严重了**
> ----------------------------------一点感受-----------

## 项目思路一：cognos10.1.1 MOLAP
    目前使用的系统是cognos10.1.1，cognos10.1.1是使用MOLAP模型进行工作的，现在市面上还比较有名的MOLAP产品有 Cognos的Powerplay、Hyperion 的Essbase和微软的Analysis Service 这类产品将数据从关系数据库（甚至是文本文件、Excel文件）中抽取出来，存储在自己的数据库中。这种数据库跟平常我们所见的Oracle、DB2这类关系数据库不同之处在于，它是专有格式的，且没有标准的访问接口。因此，这些产品如何实现多维存储也都不尽相同，大致的原理是以编程语言中多维数组的方式存放数据。度量值存放在数组的单元格中，而数组每个维就对应一个维度，其中，维元素就维的坐标
>   对于多维数据库,多维数据库的单元格跟维度、维元素的多少有莫大关系，
>    而随着维度增加，数据库也迅速膨胀。因此，对于MLOAP产品，多维存储的存储空间

>    但有时候也会显得过于复杂。Powerplay也提供某些选项，诸如cube分区
>    等，这是比较简单的优化方法。
>        OLAP产品的核心功能是提供 多维存储，另外就是能够将OLAP
>        访 问操作转换为对数据的请求并返回，这些OLAP访问操作大多是用户通过
>        前端发出的，因此要考虑OLAP产品能够和哪些前端工具对接。 
>            Cognos Powerplay是个相对封闭的产品，它有自己的客户端和
>            Web Explorer，你也甭想着用其他前端来访问它。
>              Hyperion和微软都采用开放式接口，提供丰富的访问API
>              ，第三方可以用这些API访问其数据库。上文曾提到微软开发的MDX和参与的XMLA（
>              XML for Analysis）规范，事实上，一些第三方的前端工具正是基于这样的标准和
>              OLAP产品对接，比如可以用BO WebI连接Essbase
>    更有甚者，微软的服务器还提供用MDX来查询多维数据，就像用SQL
>    来访问关系数据库一样。
>        诚然，这看起来的确比较酷，但有一点也要明确：目前虽然有XMLA、
>        MDX这样的标准，但还不是非常成熟，且并非唯一标准。
>        所以即使有第三方前端工具访问这些OLAP
>        服务器，但只能说是多了一些选择，真正在前端功能上，并不能保证比封闭结构更丰富
如图 :

![cognos](/image/cognos.jpg)

基于以上的调研与项目的要求，既然要生成cube，使用cognos的前端来访问，那么避免不了使用MOLAP模型，在其中两个模块 fm和tr 上做优化的优化点只有了cognos10.1的tr的数据源可以改动，那么我们可以动一下这个数据源，即去掉fm的元数据模型数据源，自己实现元数据模型
具体的方案就是：将Oracle中的数据用sqoop同步到hadoop中，然后根据tr的MDL模型的要求，提前准备好元数据模型的数据


## 项目思路一：cognos10.2.2 ROLAP

对于上一个方案的想法自己也觉得差强人意，直接是使用cognos 10.2.2的ROLAP模型


